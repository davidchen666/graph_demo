<!DOCTYPE html><html lang="en"><meta charset="UTF-8"><head>    <!--响应式布局-->    <meta name="viewport" content="width=device-width,inital-scale=1.0" ,maximum-scale=1.0,user-scalable=no">    <meta name="renderer" content="webkit" charset="utf-8">    <meta http-equiv="X-UA-Compatible" content="IE=edge">    <title>图表接口</title>    <link href="css/bootstrap.css" rel="stylesheet">    <link href="css/echartsHome.css" rel="stylesheet">    <link href="css/codemirror.css" rel="stylesheet">    <link href="css/monokai.css" rel="stylesheet">    <link href="css/amazeui.min.css" rel="stylesheet" type="text/css" />    <script src="js/codemirror.js"></script>    <script src="js/javascript.js"></script>    <script src="js/echarts.min.js"></script>    <script src='js/echarts-wordcloud.js'></script>    <!--<script src='js/echarts.js'></script>-->    <script src="js/china.js"></script>    <script src="js/jquery.js"></script>    <script type="text/javascript" src="js/amazeui.min.js"></script>    <script src="js/echartsExample.js"></script></head><body><form name='form1' id='form1' method='post'>    <div class="navbar navbar-default navbar-fixed-top">        <!--顶部菜单栏-->        <div style="float:right; width:140px; margin-top:2px; text-align:center;margin-left:auto; margin-right:auto;">            <input type='submit' name='sub' class="btn btn-sm btn-success" id="sub" value='生成图表'/></div>        <div style="float:right; width:700px; margin-top:6px; text-align:right;">            图表类别：            <select name='charname' id='charname'>                <option value='3' data-graph='map'>地图</option>                <option value='9' data-graph='wordCloud2'>词云</option>                <!--<option value='1' data-graph='line' selected="selected">折线图</option>-->                <option value='1' data-graph='line' >折线图</option>                <!--<option value='4' data-graph='k'>K线图</option>-->                <!--<option value='5' data-graph='graph'>力导图</option>-->                <!--<option value='7' data-graph='area'>区域图</option>-->                <!--<option value='10' data-graph='bar-y-line'>柱折图</option>-->                <option value='2' data-graph='pie' selected="selected">圆环图</option>                <option value='6' data-graph='bar-x-category'>条形图</option>                <option value='12' data-graph='line-bar'>折柱图</option>                <option value='22' data-graph='scatter'>散点图</option>                <option value='5' data-graph='gauge'>仪表盘图</option>                <option value='8' data-graph='pictorialline'>条形象形图</option>                <!--<option value='11' data-graph='bar-y-category-stack'>纵向柱状堆叠图</option>-->                <!--<option value='12' data-graph='scatter-relationship'>散点关系演变图</option>-->                <!--<option value='9' data-graph='bar-y-category'>纵向柱状图</option>-->                <option value='10' data-graph='bar-y-contrast'>对比柱状图</option>                <option value='7'  data-graph='bar-x-category-stack'>百分比堆叠条形图</option>                <option value='11' data-graph='bar-y-value'>顶部显示数值柱状图</option>                <option value='21' data-graph='bar-y-stack' >百分比堆叠柱状图</option>                <option value='1' data-graph='linemaker' >折线图(maker)</option>            </select>            &nbsp&nbsp切换主题：            <select name='chartype' id="chartype">                <option value='ml'>谛听彩色</option>                <option value='wk_purple'>悟空紫色</option>                <option value='wk_colorful'>悟空彩色</option>                <option value='custom'>自定义主题</option>            </select>            <!--显示方式：-->            <!--<select name='dis' id="dis">-->            <!--<option value='0'>Echarts显示</option>-->            <!--<option value='1'>Html5显示</option>-->            <!--</select>-->        </div>        <div style="float:left; width:150px; margin-top:10px; text-align:center; color:#20BA8A;"><span                class="text-primary"><b>META INSIGHT</b></span></div>    </div>    <div class="container-fluid">        <div class="row-fluid example">            <div id="sidebar-code" class="col-md-4">                <!--<div class="well sidebar-nav" style="height: z">-->                <div class="nav-header"><a href="#" onclick="autoResize()" class="glyphicon glyphicon-resize-full"                                           id="icon-resize"></a>                    <!--json data-->                </div>                <!--页面左侧json-->                <div class="am-panel-group" id="accordion">                    <!--<div class="am-panel " style="background-color: #f3f3f3">-->                    <!--<div class="am-panel-hd">-->                    <h4 class="" data-am-collapse="{parent: '#accordion', target: '#do-not-say-1'}">                        <button style="width: 100%" type="button" class="am-btn am-btn-default am-round">json data</button>                    </h4>                </div>                <!--<div id="do-not-say-1" class="am-panel-collapse am-collapse am-in">-->                <!--默认隐藏json data-->                <div id="do-not-say-1" class="am-panel-collapse am-collapse">                    <!--<div class="am-panel-bd">-->                    <textarea name='data' id='data'>                                                                                              {                        "downloadimg":1,                        "legend":1,                        "animation":1,                         "x":                             {                                 "data":["2017/9/1","2017/9/2","2017/9/3","2017/9/4","2017/9/5"]                             },                         "y":                             [                               {                                     "data":                                         [1,1,1,1,1],                                     "name": "1"                                },                                       {                                     "data":                                         [2,2,2,2,2],                                     "name": "2"                                },                                       {                                     "data":                                         [3,3,3,3,3],                                     "name": "3"                                },                                       {                                     "data":                                         [4,4,4,4,4],                                     "name": "4"                                },                                       {                                     "data":                                         [5,5,5,5,5],                                     "name": "5"                                },                                       {                                     "data":                                         [6,6,6,6,6],                                     "name": "6"                                },                                       {                                     "data":                                         [7,7,7,7,7],                                     "name": "7"                                },                                       {                                     "data":                                         [8,8,8,8,8],                                     "name": "8"                                },                                       {                                     "data":                                         [9,9,9,9,9],                                     "name": "9"                                },                                       {                                     "data":                                         [10,10,10,10,10],                                     "name": "10"                                }                             ],                         "big_title": "折线图",                         "small_title": "副标题副标题副标题副标题副标题副标题副",                         "remarks1":"基数：所有被访者 n=400",                         "remarks2":"数据来源：B12",                         "unit":"k",                         "tooltip":1,                         "width":723,                         "height":548                }                                    </textarea>                    <!--</div>-->                </div>            </div>        </div>        <!--<script>-->        <!--$('#myCollapse').collapse()-->        <!--</script>-->    </div><!--/.well -->    </div><!--/span-->    <div id="graphic" class="col-md-8">        <div class="main"             style="background:#ffffff; text-align:center; margin-left:auto; margin-right:auto; width:100%; padding : 10px;">            <div id="main"                 style=" margin-left:auto; height:617px; margin-right:auto; width:723px; border:1px solid #eee;"></div>        </div>    </div><!--/span-->    </div><!--/row-->    </div>    <div></div></form></body><script type="text/javascript" src="js/jquery.js"></script><script type="text/javascript" src="js/Graph.js"></script><script src="js/echartsExample.js"></script><script type="text/javascript">    $("#charname, #chartype").bind("change", function () {        var name = $("#charname").val();        $.ajax({            type: 'get',            url: 'format.php',            data: {type: name},            dataType: 'html',            success: function (data1) {                editor.setValue(data1);            }        });        return;    });    var data = editor.getValue();    var graphdata = $.parseJSON(data)    if (typeof(graphdata.height) != "undefined") {        graphdatah=graphdata.height    }    if (typeof(graphdata.width) != "undefined") {        graphdataw=graphdata.width    }    $('.main').html('<div id="main" style=" margin-left:auto; height:' + graphdatah + 'px; margin-right:auto; width:' + graphdataw + 'px; border:1px solid #eee;"></div>')    //指定默认地图    graph_ajax({data: editor.getValue(), graph: 'linemaker', theme: 'ml'}, 'main');    // 指定图表的配置项和数据    $("#sub").bind('click', function (e) {        e.preventDefault();        //左侧数据        var data = editor.getValue();        //显示方式        var dis = $("select[name='dis']").val();        //图表类别        $name = $("#charname").val();        var graph = $("select[name='charname']").find('option:selected').data('graph');        var type = $("#chartype").val();        var graphdata = $.parseJSON(data)        var graphdatah = 548        var graphdataw = 723        if (typeof(graphdata.height) != "undefined") {            graphdatah=graphdata.height        }        if (typeof(graphdata.width) != "undefined") {            graphdataw=graphdata.width        }        // console.log(graphdata.height)        //js控制div        $('.main').html('<div id="main" style=" margin-left:auto; height:' + graphdatah + 'px; margin-right:auto; width:' + graphdataw + 'px; border:1px solid #eee;"></div>')        graph_ajax(            {                data: data,                graph: graph,                theme: type,            },            'main');        // var getValue = document.getElementById('chartype').value;    });</script></html>